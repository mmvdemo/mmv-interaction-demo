<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Matrix visualization</title>
    <style>
        div.linechart {
            position:absolute;    
            z-index:1;
        }
    </style>
    </head>
    <link href="./static/noUiSlider-14.6.3/distribute/nouislider.css" rel="stylesheet">
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script> -->
    <script src="./static/PIXI/pixi-legacy.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.9.1/d3-tip.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://cdn.rawgit.com/Keyang/node-csvtojson/d41f44aa/browser/csvtojson.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.js"></script> -->
    <script src="./static/noUiSlider-14.6.3/distribute/nouislider.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.common.core.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.common.fx.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.common.key.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.common.tooltips.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.line.js"></script>
    <script src="./RGraph/libraries/RGraph.svg.bar.js"></script>
    <body>
        <div>
            <select id="dataType">
                <option value="PILOT">pilot</option>
                <option value="STUDY1">task-1-100x100-downward-0</option>
                <option value="STUDY1">task-2-100x100-tent-0</option>
                <!--
                <option value="US">US migration data</option>
                -->
                <option value="RANDOM">random data</option>
            </select>
            <label id="nodeCntLabel"> node count(for random data): </label>
            <input type="text" id="nodeCnt" value="51"></input>
            <button id="nodeCntSubmit">submit</button>
        </div>
        <div>
            <select id="technique">
                <option value="zoom">zoom and pan</option>
                <option value="fisheyelens_inside">fisheye lens(inside)</option>
                <option value="cartesianlens">cartesian lens</option>
                <option value="tablelens_stretch">table lens(stretch)</option>
                <option value="tablelens_step">table lens(step)</option>
                <!--
                <option value="fisheyelens_outside">fisheye lens(outside)</option>
                -->
            </select>
        </div>
        <div class="slidecontainer" id="sliderContainer"></div>
        <div id="highlightContainer">
            <div id="highlightList">
                <p>current highlights:</p>
            </div>
            <label id="addHighlightLabel"> add highlight bounding box: (h1,w1)-(h2,w2)</label>
            <input type="text" id="addHighlight"></input>
            <button id="addHighlightSubmit">submit</button>
            <p></p>
            <label id="removeHighlightLabel"> remove highlight bounding box: (h1,w1)-(h2,w2)</label>
            <input type="text" id="removeHighlight"></input>
            <button id="removeHighlightSubmit">submit</button>
        </div>
        <div id="mouseTrackerContainer">
            <label>mouse tracking (log to console)</label>
            <button id="mouseTrackButton">start</button>
        </div>
        <script type="text/javascript">
            var getValue;
            var destinations=[];
            var timeStart=0,timeEnd=4;
            
            var currentTime = {
                value:timeStart,
                currentTimeListener:function(val){console.log(val);},
                set setCurrent(newValue) {
                    this.value = newValue;
                    this.currentTimeListener(this.value);
                },
                get getCurrent() {
                    return this.value;
                },
                set setHandle(handle) {
                    this.currentTimeListener = handle;
                }
            };

            var focusPos = {'h':-1,'w':-1};
            var currentPos = {'h':-1,'w':-1};
            var input = {
                "dataType":document.getElementById("dataType"),
                "nodeCnt":document.getElementById("nodeCnt"),
                "technique":document.getElementById("technique"),
                "nodeCntButton":document.getElementById("nodeCntSubmit"),
                "addHighlight":document.getElementById("addHighlight"),
                "addHighlightButton":document.getElementById("addHighlightSubmit"),
                "removeHighlight":document.getElementById("removeHighlight"),
                "removeHighlightButton":document.getElementById("removeHighlightSubmit"),
                "mouseTrackButton":document.getElementById("mouseTrackButton")
            };
            var dataType = input.dataType.options[input.dataType.selectedIndex].value;
            var nodeCnt = Number(input.nodeCnt.value);
            var technique = input.technique.options[input.technique.selectedIndex].value;
            var currentTrial = "";
        </script>
        <script type="module" src="./src/setup.js"></script>
    </body>
</html>
